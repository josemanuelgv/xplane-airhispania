#summary Tutorial de vuelo en red con XPlane en AirHispania

= *Tutorial de vuelo en red con XPlane en AirHispania* =

= Introducción =

  Este tutorial es una recopilación de todos los aportes y experiencias de diversos usuarios de AirHispania que han trabajado y trabajan para que el simulador Xplane sea compatible y usable con las herramientas y protocolos que la escuela pone a disposición. 

  Se asume que el lector ya conoce las herramientas y procedimientos y dispone de experiencia en el vuelo online en la red de AirHispania. No es objetivo del mismo iniciar al lector desde cero en el vuelo online en AirHispania. 

   La guía abarca las versiones 9 y 10 de XPlane de 32bits para Windows. La versión 10 de 64 bits de XPlane por ahora no permite la conexión a la red de AirHispania debido a que el agente de red usado, XsquawkBox, no ha sido portado a 64 bits todavía.

                                         _Jose Manuel GV - AHS018D_

= Instalación y configuración de XPlane =

== Palabras clave ==

   En este tutorial se hará referencia a palabras clave cuyo significado se detalla a continuación:
   
 *  DIR_INSTALL_XPLANE = Hace referencia al directorio donde tenemos instalado XPlane, ejemplo, C:\XPlane9.
== 1. Instalar plugin XPUIPC en el simulador ==

  # Descargarlo de [http://www.tosi-online.de/XPUIPC/XPUIPC_files/XPUIPC%20and%20WPWideClient%202.0.0.0.zip]
  # Descomprimir en una carpeta temporal.
  # Copiar el contenido de la carpeta XPUIPC en la carpeta DIR_INSTALL_XPLANE/Resources/plugins
  # Arrancar XPlane y verificar que el plugin se ha instalado correctamente usando el menú Plugins.

== 2. Configurar la compatibilidad de XPUIPC con AHSBOX (aporte de Mikel N'Dong, AHS120D) ==

   El asunto es que el XPUIPC no ofrece a la caja la cuenta de cuantas "estaciones de carga" tiene el avión y la caja no llegaba a grabar nada sin ese dato. Supongo que igual es porque el propio X-Plane no tiene esa característica (creo que es lo más probable). Así que con 
   estas líneas, lo que he hecho ha sido engañar a la caja y decirle que sólo hay una estación de carga con el peso que tenemos configurado de 
   payload del avión.
   
  # Abrir con un editor de textos el fichero DIR_INSTALL_XPLANE/Resources/plugins/XUIPCOffsets.cfg
  # Añadir el siguiente contenido al final del mismo y guardarlo:
  
{{{   
# Añadido para compatibilidad con AHSBOX
Dataref TotalPayload sim/flightmodel/weight/m_fixed float
Offset 0x13FC UINT32 1 r 1 # Count of payload stations = 1
Offset 0x1400 FLOAT64 1 r $TotalPayload 2.2046 * # Peso en la primera "station" en lbs
}}}

== 3. Instalar XSquawkBox 1.0.0 IVAO Compatible (aporte de Carlos, AHS6441) ==
 
    XSquawkBox es el software homólogo al FSINN que permite el vuelo online. Esta es la única versión de XSquawkBox compatible con el servidor FSD de AirHispania. 
	
	Esta son las limitaciones funcionales detectadas hasta el momento:
  * No cambia de canal TS automáticamente, hay que ir a la ventana del TS y cambiar el canal.
  * No se muestran los callsign del resto de aviones como sí hace FSINN.

  # Descargar XSquawkBox 1.0.0 para Windows desde este enlace: [http://www.xsquawkbox.net/xsb/wp-content/uploads/2011/06/xsb_win_ivao_100.zip]
  # Descomprimir el paquete en una carpeta temporal.
  # Copiar el contenido de la carpeta "For plugins folder" en la carpeta DIR_INSTALL_XPLANE/Resources/plugins

== 4. Instalar el gestor de recursos añadidos XAddonManager ==

  Esta herramienta nos permitirá de forma sencilla activar y desactivar cualquier escenarios (principalmente aeródromos) o plugin en nuestra sesión con XPlane. No es obligatorio tenerla instalada pero particularmente creo que es muy recomendable.

  # Descargar el software desde este enlace: [http://code.google.com/p/xaddonmanager/downloads/detail?name=XAddonManager-2.0.0-Windows.zip&can=2&q=]
  # Descomprimir el paquete en el lugar deseado. 
  
== 5. Instalación de los recursos principales de AirHispania ==

  Todos los recursos disponibles a continuación son conversiones realizadas de las versiones de FS9 y FSX de AirHispaniaSC a XPlane realizados con la herramienta FS2XPLANE. Muchos de ellos, sobre todo los escenarios de aeródromos, pueden tener imperfecciones generadas por la conversión. 

  El procedimiento para instalarlos en nuestro XPlane es sencillamente descargar el paquete y descomprimirlo en la carpeta DIR_INSTALL_XPLANE/Custom scenery.

  === Elementos del terreno ===
   
   * Puntos de notificación VFR 1.8: [https://mega.co.nz/#!qZIwFATS!GN-brkdy4pdOCxXxnHgN6x2VPVYwRegyE0kWfst70_U Descargar]
   * Faros 1.4: [https://mega.co.nz/#!fd5F3YqT!QyVi9zz-XYCcDsksWEprK0XAViQnEvacqEj-imXpxpw Descargar]
   * Toros de Osborne 1.0: [https://mega.co.nz/#!bd4XFZSC!borM5gxQMOIQaqoI8cxhdQ0HwZwwsI2XaJuwK47CkA8 Descargar]
   * Castillos 1.0: [https://mega.co.nz/#!LcghHCDZ!ZNnA_lV3KcC-9CdIjhJcv0Ppo1JDr7LFtCFwZJiDoGg Descargar]
   * Obstáculos 2.1: [https://mega.co.nz/#!DNAxDLCK!Cq8Gimxl2PaNDmh-3SWDrSBK7eEJEsnR6hcK7I3rmlk Descargar]

  === Aeródromos convertidos de AirHispaniaSC ===

   * Aeródromos 2.0 convertidos de FSX: [https://mega.co.nz/#!uNpXyLpJ!aB739TdWWxyYaIn4vO8uGUK5hbYdKzW06X7DQ_Dmxow Descarga]

  
== 6. Instalación de aeronaves de la flota de AirHispania ==  

  En XSquawkbox el concepto de CSL se corresponde con el modelo tridimensional (OBJ) y las texturas (PNG) que representan a un aeronave conectada a la red. Por tanto, si al conectarnos a la red deseamos ver a los compañeros con sus respectivas aeronaves, debemos tener instalado en nuestro simulador los CSL de las mismas.

  La comunidad XPlane está trabajando para tener disponible los CSL's de toda la flota de AirHispania. De momento disponemos de algunas de las aeronaves de la flota sin texturizar, pero nos permite al menos volar viendo las aeronaves que corresponden a los ICAO correctos.  
 
  Los CSL's se ubican en la carpeta DIR_INSTALL_XPLANE/Resources/plugins/XSquawkBox Resources/CSL. Hay que eliminar (o mover a otro sitio) los que existen instalados por XSquawkBox. Después descomprimimos los de AirHispania. Descarga en el siguiente enlace:

 [https://mega.co.nz/#!jcghSCII!ay_81AQ3bke28CYLHE070S37YCYFB-u_0udc0wrsZmk CSL's] de la flota de AirHispania (versión inicial)   

 Es importante comentar que la versión que usamos de XSquawkBox carga TODOS los CSL's existentes en memoria, con el correspondiente tiempo de espera en la carga de XPlane y consumo de recursos. Por eso es importante tener un número "coherente" de CSL's.
 
== 7. Configuración específica del simulador ==  

 # Desactivar la opción de "seguir contornos del terreno" en la configuración de Gráficos (Render options) para evitar ver las aeronaves de los compañeros enterradas en el terreno o levitando. 

Pendiente poner captura para XPlane9 y XPlane10

== 8. Plugins adicionales recomendables ==  

 # *Airport Navigator plugin*: excelente utilidad muy recomendable. Utiliza la base de datos de aeropuertos para representar un mapa del mismo en el cual podemos guiarnos para conocer nuestra posición y movimientos en tiempo real. Descarga en [http://forums.x-plane.org/index.php?app=downloads&showfile=4930]
 # *PilotView plugin*: Fundamental para los que usan TrackIR, pero también muy util para los que no, ya que permite asignas vistas concretas a teclas o botones de joystick. Facilita mucho los cambios de vista. Disponible en [http://www.xpluginsdk.org/pilot_view.htm]
 # *CheckList plugin*: Pendiente enlace y descripción